{"version":3,"sources":["webpack:///webpack/bootstrap 55d9754312c2fd51d723","webpack:///./down_beat.js","webpack:///./lib/hero.js","webpack:///./lib/platform.js","webpack:///./lib/score.js","webpack:///./lib/level.js","webpack:///./lib/screen_text.js"],"names":["walker","Image","hero","stage","score","pauseText","window","platforms","document","addEventListener","createjs","Stage","onload","imageLoaded","src","data","images","frames","animations","run","jump","holdJump","spriteSheet","SpriteSheet","addChild","setChildIndex","getNumChildren","currentScore","topScore","start","tick","event","started","alpha","checkForScore","play","stop","resetScore","update","bottomPlat","getBounds","canScore","y","addPoint","cannotScore","Ticker","spawnX","spawnY","Hero","sprite","bindKeyHandlers","gotoAndPlay","resetPosition","snapToPixel","checkCollisions","bind","grounded","jumping","velocity","x","dir","Math","abs","nextPos","nextPosition","onPlatform","applyGravity","checkCanScore","collision","collisionPosition","ii","length","checkCollision","platform","m","platX","platY","platWidth","width","platHeight","height","heroX","heroY","heroWidth","heroHeight","newX","match","i","platBounds","heroBounds","gotoAndStop","topPlat","key","Sprite","Platform","graphics","Graphics","beginFill","drawRect","setBounds","direction","_setDirection","num","random","points","_fill","style","highlightObjective","forEach","_increaseVelocity","_swapDirection","Shape","Score","text","Text","topPoints","checkHighscore","buildStage","floor","push","highestPlatY","posX","posY","newPlatform","pauseScreen"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 55d9754312c2fd51d723","import Hero from './lib/hero';\nimport Platform from './lib/platform';\nimport Score from './lib/score';\nimport {buildStage} from './lib/level';\nimport {pauseScreen} from './lib/screen_text';\n\nvar walker = new Image();\nvar hero;\nvar stage;\nvar score;\nvar pauseText;\nwindow.platforms = [];\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  stage = new createjs.Stage(\"canvas\");\n  window.stage = stage;\n  walker.onload = imageLoaded;\n  walker.src = 'assets/walker.png';\n\n  // x, y, width, height\n  function imageLoaded () {\n    var data = {\n      images: [walker],\n      frames: [\n        [9, 8, 30, 32],\n        [59, 8, 30, 32],\n        [109, 8, 30, 32],\n        [159, 8, 30, 32],\n        [209, 8, 30, 32],\n        [259, 8, 30, 32],\n        [309, 8, 30, 32],\n        [359, 8, 30, 32],\n        [409, 8, 30, 32],\n        [459, 8, 30, 32],\n        [509, 8, 30, 32],\n        [559, 8, 30, 32],\n        [9, 58, 31, 32],\n        [59, 58, 31, 32],\n        [109, 58, 31, 32],\n        [159, 58, 31, 32],\n        [209, 58, 31, 32],\n        [259, 58, 31, 32],\n        [309, 58, 31, 32]\n      ],\n      animations: {\n        run: [0,11],\n        jump: [12,18],\n        holdJump: 18\n      }\n    };\n    var spriteSheet = new createjs.SpriteSheet(data);\n    hero = new Hero(spriteSheet);\n    score = new Score;\n    pauseText = pauseScreen();\n    stage.addChild(pauseText);\n    stage.setChildIndex(pauseText, stage.getNumChildren()-1);\n    stage.addChild(hero, score.currentScore, score.topScore);\n    stage.setChildIndex(hero, stage.getNumChildren()-1);\n    window.hero = hero;\n    window.score = score;\n    start();\n  }\n});\n\nfunction tick(event) {\n\n\n  if (hero.started) {\n    pauseText.alpha = 0;\n    checkForScore();\n    Platform.tick(window.platforms);\n    hero.play();\n  } else {\n    hero.stop();\n    pauseText.alpha = 1;\n    score.resetScore();\n  }\n  score.tick();\n  hero.tick(window.platforms);\n  stage.update();\n\n\n}\n\nfunction checkForScore() {\n  let bottomPlat = window.platforms[0].getBounds();\n  if (hero.canScore) {\n    if (hero.y + 32 === bottomPlat.y) {\n      score.addPoint();\n      hero.cannotScore();\n    }\n  }\n}\n\n\nfunction start() {\n  createjs.Ticker.addEventListener(\"tick\", tick);\n  // let canvasWrapper = document.getElementsByClassName(\"canvas-wrapper\")[0];\n  // canvasWrapper.addEventListener(\"blur\", () => {console.log(\"blur\");});\n  // canvasEl.addEventListener(\"focusout\", checkCanvas);\n  buildStage(window.platforms);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./down_beat.js","const spawnX = 100;\nconst spawnY = 550;\n\nclass Hero extends createjs.Sprite{\n  constructor(sprite) {\n    super(sprite);\n    this.bindKeyHandlers();\n    this.gotoAndPlay(\"run\");\n    this.resetPosition();\n    this.snapToPixel = true;\n    this.checkCollisions = this.checkCollisions.bind(this);\n    this.grounded = false;\n    this.started = false;\n    this.jumping = false;\n    this.canScore = false;\n  }\n\n  resetPosition() {\n    this.velocity = {x: 0, y: 5};\n    this.x = spawnX;\n    this.y = spawnY;\n    this.started = false;\n    this.cannotScore();\n  }\n\n  run(dir) {\n    this.start();\n    if (Math.abs(this.velocity.x) < 7) {\n      switch (dir) {\n        case 'left':\n          this.velocity.x -= 3;\n          break;\n        case 'right':\n          this.velocity.x += 3;\n          break;\n      }\n    }\n  }\n\n  jump() {\n    this.start();\n    if (this.grounded) {\n      this.velocity.y -= 15;\n      this.grounded = false;\n    }\n  }\n\n  tick(platforms) {\n    let nextPos = this.nextPosition(platforms);\n    this.x = nextPos[0];\n    this.y = nextPos[1];\n    this.onPlatform(platforms);\n    this.applyGravity();\n    this.checkCanScore();\n    if (this.y > 610) {\n      this.resetPosition();\n    }\n  }\n\n  nextPosition(platforms) {\n    let collision;\n    if (!this.grounded) {\n      collision = this.checkCollisions(platforms);\n      if (collision) {\n        return this.collisionPosition(collision);\n      }\n    }\n    return [this.x + this.velocity.x, this.y + this.velocity.y];\n  }\n\n\n  checkCollisions(platforms) {\n    if (platforms && this.velocity.y > 0) {\n      for (let ii = 0; ii < platforms.length; ++ii) {\n        if (this.checkCollision(platforms[ii])) {\n          return platforms[ii];\n        }\n      }\n    }\n    return null;\n  }\n\n  checkCollision(platform) {\n    let m = this.velocity.y / this.velocity.x;\n    let platX = platform.getBounds().x;\n    let platY = platform.getBounds().y;\n    let platWidth = platform.getBounds().width;\n    let platHeight = platform.getBounds().height;\n\n    let heroX = this.x;\n    let heroY = this.y;\n    let heroWidth = this.getBounds().width / 2;\n    let heroHeight = this.getBounds().height;\n\n    if (heroY + heroHeight + this.velocity.y < platY\n      || heroY + heroHeight > platY\n    ) {\n      return false;\n    }\n\n    if (this.velocity.x === 0) {\n      // We only use velocity in the third check because\n      // we are checking whether the hero will cross a platform\n      // in the span of its movement this tick\n      if (\n        this.x + heroWidth > platX\n        && this.x < platX + platWidth\n        && this.y + this.velocity.y + heroHeight > platY\n        && this.y < platY + platHeight\n      ) {\n        return true;\n      }\n      return false;\n    }\n\n    if (\n      platX + platWidth > heroX + this.velocity.x\n      && platX < heroX + heroWidth + this.velocity.x\n      && (\n        platY + platHeight > m * (platX - heroX) + heroY\n        || platY + platHeight > m * (platX + platWidth - heroX) + heroY\n      ) && (\n        platY < m * (platX - heroX) + heroY + heroHeight\n        || platY < m * (platX + platWidth - heroX - heroWidth) + heroY + heroHeight\n      )\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  collisionPosition(platform) {\n    let m = this.velocity.y / this.velocity.x;\n    let platY = platform.getBounds().y;\n    let heroX = this.x;\n    let heroY = this.y;\n    let height = this.getBounds().height;\n\n    if (this.velocity.x === 0) {\n      this.velocity.y = 0;\n      return [heroX, platY - height] ;\n    }\n\n    let newX = (platY - heroY) / m + heroX;\n    this.velocity.y = 0;\n    if (this.velocity.x > 0) this.velocity.x -= 2;\n    if (this.velocity.x < 0) this.velocity.x += 2 ;\n    this.grounded = true;\n    return [heroX, platY - height];\n  }\n\n  onPlatform(platforms) {\n    let match = false;\n    for (let i = 0; i < platforms.length; ++i) {\n      let platBounds = platforms[i].getBounds();\n      let heroBounds = this.getBounds();\n      if (\n        this.x + heroBounds.width >= platBounds.x\n        && this.x <= platBounds.x + platBounds.width\n        && this.y + heroBounds.height === platBounds.y\n      ) {\n        this.grounded = true;\n        return;\n      }\n    }\n    this.grounded = false;\n  }\n\n  applyGravity() {\n    if (this.grounded === false) {\n      this.velocity.y += 1;\n      if (this.jumping === false) {\n        this.gotoAndPlay(\"jump\");\n        this.gotoAndStop(\"holdJump\");\n        this.jumping = true;\n      }\n    } else {\n      this.velocity.y = 0;\n      if (this.velocity.x > 0) this.velocity.x -= 1;\n      if (this.velocity.x < 0) this.velocity.x += 1;\n      if (this.jumping === true) {\n        this.gotoAndPlay(\"run\");\n        this.jumping = false;\n      }\n    }\n  }\n\n  checkCanScore() {\n    let topPlat = window.platforms[\n      window.platforms.length - 1\n    ].getBounds();\n    if (this.y + 32 === topPlat.y) {\n      this.canScore = true;\n    }\n  }\n\n  cannotScore() {\n    this.canScore = false;\n  }\n\n  start() {\n    this.started = true;\n  }\n\n   bindKeyHandlers() {\n    key('left', () => this.run('left'));\n    key('right', () => this.run('right'));\n    key('space', () => this.jump());\n  }\n}\n\nexport default Hero;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/hero.js","\nclass Platform extends createjs.Shape{\n  constructor(x, y) {\n    var graphics = new createjs.Graphics().beginFill(\"#ff0000\").drawRect(x, y, 100, 10);\n    super(graphics);\n    this.setBounds(x, y, 100, 50);\n    this.direction = this._setDirection();\n    this.velocity = 2;\n\n  }\n\n  _setDirection() {\n    let num = Math.random();\n    if (num > .5) {\n      return \"right\";\n    } else {\n      return \"left\";\n    }\n  }\n\n  _increaseVelocity() {\n    if (window.score.points > 0) {\n      this.velocity = 2 + window.score.points * .5;\n    }\n  }\n\n  static _swapDirection(platform) {\n    if (platform.direction === \"right\") {\n      platform.direction = \"left\";\n    } else {\n      platform.direction = \"right\";\n    }\n  }\n\n  static highlightObjective() {\n    let bottomPlat = window.platforms[0];\n    let topPlat = window.platforms[\n      window.platforms.length - 1\n    ];\n    if (window.hero.canScore) {\n      bottomPlat.graphics._fill.style = \"lightblue\";\n      topPlat.graphics._fill.style = \"red\";\n    } else {\n      topPlat.graphics._fill.style = \"lightblue\";\n      bottomPlat.graphics._fill.style = \"red\";\n    }\n  }\n\n  static tick(platforms) {\n    Platform.highlightObjective();\n    platforms.forEach(platform => {\n      platform._increaseVelocity();\n      if (platform.getBounds().x < -50 || platform.getBounds().x > 350) {\n        Platform._swapDirection(platform);\n      }\n      if (platform.direction === \"right\") {\n      platform.x += platform.velocity;\n      platform.setBounds(\n      platform.getBounds().x + platform.velocity,\n      platform.getBounds().y,\n      100,\n      50);\n    } else if(platform.direction === \"left\") {\n      platform.x -= platform.velocity;\n      platform.setBounds(\n      platform.getBounds().x - platform.velocity,\n      platform.getBounds().y,\n      100,\n      50);\n    }\n    });\n  }\n}\n\nexport default Platform;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/platform.js","class Score {\n  constructor(text = \"Score: \") {\n    this.currentScore = new createjs.Text(text + 0, \"bold 28px Bungee Inline\", \"white\");\n    this.topScore = new createjs.Text(\"Top: \" + 0, \"bold 20px Bungee Inline\", \"white\");\n    this.topScore.y = 25;\n    this.points = 0;\n    this.topPoints = 0;\n  }\n\n  resetScore() {\n    this.points = 0;\n  }\n\n  addPoint() {\n    this.points += 1;\n  }\n\n  checkHighscore(){\n    if (this.points > this.topPoints) {\n      this.topPoints = this.points;\n      this.topScore.text = \"Top: \" + this.topPoints;\n    }\n  }\n\n  tick() {\n    this.currentScore.text = \"Score: \" + this.points;\n    this.checkHighscore();\n  }\n\n}\n\nexport default Score;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/score.js","import Platform from './platform';\n\nexport const buildStage = (platforms) => {\n  if (platforms.length === 0) {\n    let floor = new Platform(100, 590);\n    floor.direction = \"floor\";\n    platforms.push(floor);\n    window.stage.addChild(floor);\n  }\n  let highestPlatY = platforms[platforms.length - 1].getBounds().y;\n  while (highestPlatY > 100) {\n    let posX = Math.random() * (380 - 50) + 20;\n    let posY = highestPlatY - (Math.random() * (130 - 100) + 80);\n    let newPlatform = new Platform(posX, posY);\n    platforms.push(newPlatform);\n    window.stage.addChild(newPlatform);\n    highestPlatY = platforms[platforms.length - 1].getBounds().y;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/level.js","export const pauseScreen = () => {\n  let pauseText = new createjs.Text(\n    \"Move to begin!\",\n    \"bold 25px Bungee Inline\",\n    \"white\");\n\n    pauseText.x = 100;\n    pauseText.y = 270;\n    return pauseText;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/screen_text.js"],"sourceRoot":""}